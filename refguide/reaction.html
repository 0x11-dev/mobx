<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>reaction | MobX</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.2.0">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../gitbook/style.css">
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-edit-link/plugin.css">
        
    
    

        
    
    
    <link rel="next" href="../refguide/spy.html" />
    
    
    <link rel="prev" href="../refguide/observe.html" />
    

        
    </head>
    <body>
        
        
    <div class="book" data-level="9.9" data-basepath=".." data-revision="Wed May 25 2016 23:37:30 GMT+0200 (CEST)">
    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <ul class="summary">
        
        
        
        

        

        
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" >
            
            <span><b>1.</b> Introduction to MobX</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="index.html">
            
                
                    <a href="../index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                        Why MobX?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="intro/overview.html">
            
                
                    <a href="../intro/overview.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                        The Gist of MobX
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="intro/concepts.html">
            
                
                    <a href="../intro/concepts.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.3.</b>
                        
                        Concepts &amp; Principles
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" data-path="refguide/api.html">
            
                
                    <a href="../refguide/api.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        API overview
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="refguide/observable.html">
            
                
                    <a href="../refguide/observable.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        observable
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="refguide/observable-decorator.html">
            
                
                    <a href="../refguide/observable-decorator.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        @observable
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="refguide/computed-decorator.html">
            
                
                    <a href="../refguide/computed-decorator.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                        (@)computed
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="refguide/autorun.html">
            
                
                    <a href="../refguide/autorun.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.4.</b>
                        
                        autorun
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="refguide/observer-component.html">
            
                
                    <a href="../refguide/observer-component.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.5.</b>
                        
                        @observer
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="refguide/action.html">
            
                
                    <a href="../refguide/action.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.6.</b>
                        
                        action
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" >
            
            <span><b>3.</b> Observable Types</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="refguide/object.html">
            
                
                    <a href="../refguide/object.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                        objects
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="refguide/array.html">
            
                
                    <a href="../refguide/array.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                        arrays
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="refguide/map.html">
            
                
                    <a href="../refguide/map.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.</b>
                        
                        maps
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="refguide/boxed.html">
            
                
                    <a href="../refguide/boxed.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.4.</b>
                        
                        boxed values
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" >
            
            <span><b>4.</b> Best Practices For Large Apps</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1" data-path="best/store.html">
            
                
                    <a href="../best/store.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                        Defining data stores
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="best/actions.html">
            
                
                    <a href="../best/actions.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.</b>
                        
                        Writing (async) actions
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="best/react-performance.html">
            
                
                    <a href="../best/react-performance.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.</b>
                        
                        Optimizing React components
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5" >
            
            <span><b>5.</b> How does MobX work?</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1" >
            
                
                    <a target="_blank" href="https:/medium.com/@mweststrate/becoming-fully-reactive-an-in-depth-explanation-of-mobservable-55995262a254">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                        In depth explanation of MobX
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6" >
            
            <span><b>6.</b> Tips &amp; Tricks</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1" data-path="best/devtools.html">
            
                
                    <a href="../best/devtools.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.</b>
                        
                        DevTools
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="best/syntax.html">
            
                
                    <a href="../best/syntax.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.2.</b>
                        
                        ES5 / ES6 / TypeScript syntax
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.3" >
            
            <span><b>6.3.</b> Optimizing MobX</span>
            
            
        </li>
    
        <li class="chapter " data-level="6.4" >
            
            <span><b>6.4.</b> Testing</span>
            
            
        </li>
    
        <li class="chapter " data-level="6.5" data-path="best/stateless-HMR.html">
            
                
                    <a href="../best/stateless-HMR.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.5.</b>
                        
                        Stateless Components and Hot Module Reloading
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="7" data-path="LINKS.html">
            
                
                    <a href="../LINKS.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                        Examples, related projects
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8" data-path="faq/faq.html">
            
                
                    <a href="../faq/faq.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.</b>
                        
                        Frequently Asked Questions
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9" >
            
            <span><b>9.</b> (Ignore below, just links to make gitbook work)</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="9.1" data-path="refguide/autorun-async.html">
            
                
                    <a href="../refguide/autorun-async.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.1.</b>
                        
                        autorunAsync
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.2" data-path="refguide/create-transformer.html">
            
                
                    <a href="../refguide/create-transformer.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.2.</b>
                        
                        createTransformer
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.3" data-path="refguide/expr.html">
            
                
                    <a href="../refguide/expr.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.3.</b>
                        
                        expr
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.4" data-path="refguide/extend-observable.html">
            
                
                    <a href="../refguide/extend-observable.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.4.</b>
                        
                        extendObservable
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.5" data-path="refguide/extending.html">
            
                
                    <a href="../refguide/extending.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.5.</b>
                        
                        Atom &amp; Reaction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.6" data-path="refguide/is-observable.html">
            
                
                    <a href="../refguide/is-observable.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.6.</b>
                        
                        isObservable
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.7" data-path="refguide/modifiers.html">
            
                
                    <a href="../refguide/modifiers.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.7.</b>
                        
                        modifiers
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.8" data-path="refguide/observe.html">
            
                
                    <a href="../refguide/observe.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.8.</b>
                        
                        observe
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="9.9" data-path="refguide/reaction.html">
            
                
                    <a href="../refguide/reaction.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.9.</b>
                        
                        reaction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.10" data-path="refguide/spy.html">
            
                
                    <a href="../refguide/spy.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.10.</b>
                        
                        spy
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.11" data-path="refguide/tojson.html">
            
                
                    <a href="../refguide/tojson.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.11.</b>
                        
                        toJS
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.12" data-path="refguide/transaction.html">
            
                
                    <a href="../refguide/transaction.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.12.</b>
                        
                        transactoin
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.13" data-path="refguide/untracked.html">
            
                
                    <a href="../refguide/untracked.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.13.</b>
                        
                        untracked
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="9.14" data-path="refguide/when.html">
            
                
                    <a href="../refguide/when.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>9.14.</b>
                        
                        when
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                Published with GitBook
            </a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Table of Contents"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Search"><i class="fa fa-search"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Font Settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    
    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="Share"><i class="fa fa-share-alt"></i>
        </a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                <button type="button" data-sharing="twitter" class="button">
                    Share on Twitter
                </button>
                <button type="button" data-sharing="google-plus" class="button">
                    Share on Google
                </button>
                <button type="button" data-sharing="facebook" class="button">
                    Share on Facebook
                </button>
                <button type="button" data-sharing="weibo" class="button">
                    Share on Weibo
                </button>
                <button type="button" data-sharing="instapaper" class="button">
                    Share on Instapaper
                </button>
            </div>
        </div>
    </div>
    

    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Google"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Twitter"><i class="fa fa-twitter"></i></a>
    
    
    


    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" >MobX</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <a id="edit-link" href="https://github.com/mobxjs/mobx/tree/gh-pages/docs/refguide/reaction.md" class="btn fa fa-edit pull-left">&nbsp;&nbsp;Edit This Page</a><h1 id="reaction">Reaction</h1>
<p>Usage: <code>reaction(() =&gt; data, data =&gt; { sideEffect }, fireImmediately = false, delay = 0)</code>.</p>
<p>A variation on <code>autorun</code> that gives more fine grained control on which observables that will be tracked.
It takes two function, the first one is tracked and returns data that is used as input for the second one, the side effect.
Unlike <code>autorun</code> the side effect won&apos;t be run directly when created, but only when the data expression returns a new value for the first time. 
Any observables that are accessed while executing the side effect will not be tracked.
The side effect can be debounced, just like <code>autorunAsync</code>.
<code>reaction</code> returns a disposer function.</p>
<p>It is important to notice that the side effect will <em>only</em> react to data that was <em>accessed</em> in the data expression, which might be less then the data that is actually used in the effect.</p>
<p>In the following example both <code>reaction1</code>, <code>reaction2</code> and <code>autorun1</code> will react to the addition, removal or replacement of todo&apos;s in the <code>todos</code> array.
But only <code>reaction2</code> and <code>autorun</code> will react to the change of a <code>title</code> in one of the todo items, because <code>title</code> is used in the data expression of reaction 2, while it isn&apos;t in the data expression of reaction 1.
<code>autorun</code> tracks the complete side effect, hence it will always trigger correctly, but is also more suspectible to accidentally accessing unrelevant data.</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">const</span> todos = observable([
    {
        title: <span class="hljs-string">&quot;Make coffee&quot;</span>,
        done: <span class="hljs-literal">true</span>, 
    },
    {
        title: <span class="hljs-string">&quot;Find biscuit&quot;</span>,
        done: <span class="hljs-literal">false</span>
    }
]);

<span class="hljs-keyword">const</span> reaction1 = reaction(
    () =&gt; todos,
    todos =&gt; <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;reaction 1:&quot;</span>, todos.map(todo =&gt; todo.title).join(<span class="hljs-string">&quot;, &quot;</span>))
);

<span class="hljs-keyword">const</span> reaction2 = reaction(
    () =&gt; todos.map(todo =&gt; { title: todo.title }),
    todos =&gt; <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;reaction 2:&quot;</span>, todos.map(todo =&gt; todo.title).join(<span class="hljs-string">&quot;, &quot;</span>))
);

<span class="hljs-keyword">const</span> autorun1 = autorun(
    () =&gt; <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;autorun 1:&quot;</span>, todos.map(todo =&gt; todo.title).join(<span class="hljs-string">&quot;, &quot;</span>))
);

todos.push({ title: <span class="hljs-string">&quot;explain reactions&quot;</span>, done: <span class="hljs-literal">false</span> });
<span class="hljs-comment">// prints:</span>
<span class="hljs-comment">// reaction 1: Make coffee, find biscuit, explain reactions</span>
<span class="hljs-comment">// reaction 2: Make coffee, find biscuit, explain reactions</span>
<span class="hljs-comment">// autorun 1: Make coffee, find biscuit, explain reactions</span>

todos[<span class="hljs-number">0</span>].title = <span class="hljs-string">&quot;Make tea&quot;</span>
<span class="hljs-comment">// prints:</span>
<span class="hljs-comment">// reaction 2: Make tea, find biscuit, explain reactions</span>
<span class="hljs-comment">// autorun 1: Make tea, find biscuit, explain reactions</span>
</code></pre>
<p>Reaction is roughly speaking sugar for: <code>computed(expression).observe(action(sideEffect))</code> or <code>autorun(() =&gt; action(sideEffect)(expression)</code></p>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../refguide/observe.html" class="navigation navigation-prev " aria-label="Previous page: observe"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../refguide/spy.html" class="navigation navigation-next " aria-label="Next page: spy"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

    
    <script src="../gitbook/plugins/gitbook-plugin-ga/plugin.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-disqus/plugin.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-edit-link/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":null,"family":"sans","size":2},"edit-link":{"base":"https://github.com/mobxjs/mobx/tree/gh-pages/docs","label":"Edit This Page"},"ga":{"token":"UA-65632006-1","configuration":"auto"},"disqus":{"shortName":"mobservable"}};
    gitbook.start(config);
});
</script>

        <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create', 'UA-65632006-1', 'auto');ga('send', 'pageview');</script>
    </body>
    
</html>
