<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Reactive Views | Introduction</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.2.0">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../gitbook/style.css">
    
    

        
    
    
    <link rel="next" href="../core/reactive-component.html" />
    
    
    <link rel="prev" href="../core/reactive-state.html" />
    

        
    </head>
    <body>
        
        
    <div class="book" data-level="2.2" data-basepath=".." data-revision="Tue Sep 08 2015 22:26:51 GMT+0200 (CEST)">
    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <ul class="summary">
        
        
        
        

        

        
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" >
            
            <span><b>1.</b> Introduction to Mobservable</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="index.html">
            
                
                    <a href="../index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                        Why Mobservable?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="intro/overview.html">
            
                
                    <a href="../intro/overview.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                        The Gist of Mobservable
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="intro/concepts.html">
            
                
                    <a href="../intro/concepts.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.3.</b>
                        
                        Concepts &amp; Principles
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" >
            
            <span><b>2.</b> The Basics: Making stuff Reactive</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="core/reactive-state.html">
            
                
                    <a href="../core/reactive-state.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        Reactive Data Structures
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="2.2" data-path="core/reactive-views.html">
            
                
                    <a href="../core/reactive-views.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        Reactive Views
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="core/reactive-component.html">
            
                
                    <a href="../core/reactive-component.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                        Reactive Components
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" >
            
            <span><b>3.</b> Best Practices For Large Apps</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="best/store.html">
            
                
                    <a href="../best/store.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                        Organizing data stores
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.2" >
            
            <span><b>3.2.</b> Organizing components</span>
            
            
        </li>
    
        <li class="chapter " data-level="3.3" >
            
            <span><b>3.3.</b> Organizing actions</span>
            
            
        </li>
    
        <li class="chapter " data-level="3.4" >
            
            <span><b>3.4.</b> Working with async actions</span>
            
            
        </li>
    
        <li class="chapter " data-level="3.5" >
            
            <span><b>3.5.</b> Routing</span>
            
            
        </li>
    
        <li class="chapter " data-level="3.6" >
            
            <span><b>3.6.</b> Universal applications</span>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" data-path="refguide/api.html">
            
                
                    <a href="../refguide/api.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        Reference Guide
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5" >
            
            <span><b>5.</b> How does Mobservable work?</span>
            
            
        </li>
    
        <li class="chapter " data-level="6" >
            
            <span><b>6.</b> Tips &amp; Tricks</span>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1" data-path="best/devtools.html">
            
                
                    <a href="../best/devtools.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.</b>
                        
                        DevTools
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="best/syntax.html">
            
                
                    <a href="../best/syntax.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.2.</b>
                        
                        ES6 &amp; TypeScript goodies
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.3" >
            
            <span><b>6.3.</b> Tracking state changes</span>
            
            
        </li>
    
        <li class="chapter " data-level="6.4" >
            
            <span><b>6.4.</b> Predicates</span>
            
            
        </li>
    
        <li class="chapter " data-level="6.5" >
            
            <span><b>6.5.</b> Performance considerations</span>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="7" data-path="LINKS.html">
            
                
                    <a href="../LINKS.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                        Resources
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8" data-path="faq/faq.html">
            
                
                    <a href="../faq/faq.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.</b>
                        
                        Frequently Asked Questions
                    </a>
            
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                Published with GitBook
            </a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Table of Contents"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Search"><i class="fa fa-search"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Font Settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    
    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="Share"><i class="fa fa-share-alt"></i>
        </a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                <button type="button" data-sharing="twitter" class="button">
                    Share on Twitter
                </button>
                <button type="button" data-sharing="google-plus" class="button">
                    Share on Google
                </button>
                <button type="button" data-sharing="facebook" class="button">
                    Share on Facebook
                </button>
                <button type="button" data-sharing="weibo" class="button">
                    Share on Weibo
                </button>
                <button type="button" data-sharing="instapaper" class="button">
                    Share on Instapaper
                </button>
            </div>
        </div>
    </div>
    

    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Google"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Twitter"><i class="fa fa-twitter"></i></a>
    
    
    


    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" >Introduction</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="reactive-views">Reactive Views</h1>
<h2 id="creating-views-using-makereactive">Creating views using <code>makeReactive</code></h2>
<p>Reactive views are the things that make Mobservable really lovable.
They are just functions that use some reactive data.
But those view function won&apos;t just inspect the value once, they will keep tracking what happens to those values and re-evaluate when necessary.
View functions can be created by passing a function (without arguments) to <code>makeReactive</code>.
Remember the <code>lolCatz</code> data structure from previous paragraph?
Here is a view:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> isLolCatzFanatic = makeReactive(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> lolCatz.doILikeLolcatz &amp;&amp; lolCatz.lolcatz.length &gt;= <span class="hljs-number">42</span>;
});
</code></pre>
<p>That looks a lot like a spreadsheet formula doesn&apos;t it?
This view will automatically observe the property <code>lolCatz.doILikeLolcatz</code>.
And, as long as <code>lolCatz.doILikeLolcatz</code> yields <code>true</code>, the view will also observe the reference <code>lolCatz.lolcatz</code> and the property <code>length</code> of <code>lolCatz.lolcatz</code>.
The fact that the system determines itself which values should be observed, distinguishes Transparent FRP libraries from normal FRP libraries like RxJs and Bacon.</p>
<p>Anyway, this view will always yield <code>false</code> unless you find another 40 lolcatz, so lets build another view.
<code>makeReactive(function)</code> will return a function with which you can inspect the current value, so let&apos;s use the previous view in yet another view.</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> lolCatzHtml = makeReactive(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> (
        (isLolCatzFanatic() ? <span class="hljs-string">&quot;&lt;marquee&gt;Lolcatz!&lt;/marquee&gt;&quot;</span> : <span class="hljs-string">&quot;&quot;</span>) +
        <span class="hljs-string">&quot;&lt;h1&gt;Favorite:&lt;/h1&gt;&quot;</span> +
        <span class="hljs-string">&quot;&lt;img src=&apos;&quot;</span> + lolCatz.favoriteLolcat.url + <span class="hljs-string">&quot;&apos;/&gt;&quot;</span> +
        <span class="hljs-string">&quot;&lt;h2&gt;Runner ups:&lt;/h2&gt;&quot;</span> +
        <span class="hljs-string">&quot;&lt;ul&gt;&quot;</span> +
        lolCatz.lolcatz.map(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">lolcat</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;&lt;li&gt;&lt;img src=&apos;&quot;</span> + lolcat.url + <span class="hljs-string">&quot;&apos;/&gt;&lt;/li&gt;&quot;</span>;
        }).join(<span class="hljs-string">&quot;&quot;</span>) +
        <span class="hljs-string">&quot;&lt;/ul&gt;&quot;</span>
    );
});
</code></pre>
<p>From now on, <code>lolCatzHtml()</code> will yield us the latest rendering.
But we can also ask <code>lolCatzHtml</code> to pro-actively inform us when there is a new rendering by using the <code>.observe</code> method which is available on all views.
You might already be familiar with this concept from other FRP libraries.</p>
<pre><code class="lang-javascript">lolCatzHtml.observe(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rendering</span>) </span>{
    <span class="hljs-built_in">document</span>.body.innerHTML = rendering;
});
</code></pre>
<p>In practice you hardly will use &apos;.observe&apos; since there is a more powerful alternative: <code>mobservable.sideEffect</code>.</p>
<h2 id="creating-views-with-effects-using-sideeffect">Creating views with effects using <code>sideEffect</code></h2>
<p>Views are derived purely from the state. And observers in turn only react to view updates.
So observers are in fact view functions as well.
Except that they do not produce a new value, so they must produce side effects to be useful.
So instead of registering observes, we can just create more views using the <code>sideEffect</code> function.
The big difference is that observers can ultimately observe only one value or stream, while <code>sideEffect</code> can observe many values at the same time.
So we can rewrite the above observer to a <code>sideEffect</code>:</p>
<pre><code class="lang-javascript">sideEffect(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-built_in">document</span>.body.innerHTML = lolCatzHtml();
});
</code></pre>
<p>And there it is! A rendering system that renders the <code>lolCatz</code> structure automatically to the DOM whenever a relevant value inside <code>lolCatz</code> changes.
Surely, dumping a bunch of HTML into the DOM isn&apos;t a very scalable architecture.
Frameworks like React are way smarter in manipulating the DOM.
Can we add those to the mix...?</p>
<p>(N.B. both <code>sideEffect</code> and <code>.observe</code> return a function that, if invoked, cancels the effect from being called in the future).</p>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../core/reactive-state.html" class="navigation navigation-prev " aria-label="Previous page: Reactive Data Structures"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../core/reactive-component.html" class="navigation navigation-next " aria-label="Next page: Reactive Components"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

    
    <script src="../gitbook/plugins/gitbook-plugin-ga/plugin.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-disqus/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":null,"family":"sans","size":2},"ga":{"token":"UA-65632006-1","configuration":"auto"},"disqus":{"shortName":"mobservable"}};
    gitbook.start(config);
});
</script>

        <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create', 'UA-65632006-1', 'auto');ga('send', 'pageview');</script>
    </body>
    
</html>
